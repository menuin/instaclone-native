# ğŸ‘» DEVLOG 8/4

### #17.10 Take Photo part 5

- ì‚¬ì§„ì°ê¸° => cacheì—ë§Œ ì €ì¥ë˜ê³ (ì¼ì‹œì ì €ì¥) íŒŒì¼ì‹œìŠ¤í…œì— ì €ì¥ë˜ê³  ìˆì§€ëŠ” x

- MediaLibrary ì´ìš©

1. createAssetAsync : uri ì¨ì¤˜ì•¼í•¨, asset ê°ì²´ ë°˜í™˜

```js
const assets = await MediaLibrary.createAssetAsync(uri);
```

2. saveToLibraryAsync : ì•„ë¬´ ê°ì²´ë„ ë°˜í™˜í•˜ì§€ x

- ì‚¬ì§„ ì €ì¥í•  í•„ìš”ì—†ì´ ë°”ë¡œ ì—…ë¡œë“œí•  ìˆ˜ë„ ìˆìŒ 	

- ë°©ê¸ˆ ì°ì€ ì‚¬ì§„ì„ í™”ë©´ì— ë„ìš°ê¸° (ê³  ì—…ë¡œë“œí•˜ê¸°)

  stateì‚¬ìš©í•´ì„œ takenPhotoê°€ ì¡´ì¬í•˜ë©´ ì‚¬ì§„ì„ ë„ìš°ê³ , ì•„ë‹ˆë©´ ì¹´ë©”ë¼ ì»´í¬ë„ŒíŠ¸ ë„ìš°ê¸°

```js
const [takenPhoto, setTakenPhoto] = useState("");

const takePhoto = async () => {
    ...
	setTakenPhoto(uri);
}

{takenPhoto === "" ? <Camera ì»´í¬ë„ŒíŠ¸> : <Image ì»´í¬ë„ŒíŠ¸>}
```

- Actions(Slider, takePhoto Button) ë„ ë§ˆì°¬ê°€ì§€ë¡œ í•˜ê¸°

```js
{takenPhoto === "" ? (Slider, takePhotoBtn) : (Dismiss, Upload, Save button)}
```



1. Dismiss

```js
const onDismiss = () => setTakenPhoto("");
```



### #17.11 Take Photo part 6

- Uploading Photo
- ë²„íŠ¼ ë‘ê°œ (dismiss, upload) ë¡œ í•˜ê³  uploadë¥¼ ëˆ„ë¥´ë©´ ì €ì¥í• ê±´ì§€ ë¬¼ì–´ë³´ëŠ” ê±¸ë¡œ ë³€ê²½

```js
    const onUpload = () => {
        Alert.alert("Alert", "Do you want to save before uploading?", 
            [  // array
            {
                text: "Yes",
                onPress: () => goToUpload(true),
            }, {
                text: "No, thanks",
                style: "destructive",   // ë¹¨ê°„ìƒ‰ìœ¼ë¡œ í‘œì‹œë¨
                onPress: () => goToUpload(false),
            }]);
    }
    
    
    const goToUpload = async (save) => {
        if (save) {
            // asset ê°ì²´ê°€ í•„ìš”ì—†ê¸° ë•Œë¬¸ì— saveToLibraryAsync ì‚¬ìš©
            await MediaLibrary.saveToLibraryAsync(takenPhoto);  // takenPhotoì— ë°©ê¸ˆ ì°ì€ ì‚¬ì§„ì˜ uri ì €ì¥ë˜ì–´ìˆìŒ
        }

    }
```

