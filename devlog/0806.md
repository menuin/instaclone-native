# ğŸ³ DEVLOG 8/6

### #18.1 Rooms Screen part 1

- ì¿¼ë¦¬ ì‘ì„±(fragmentì´ìš©),  rooms screen ë§Œë“¤ê¸° (screenLayout, flatList) : ì½”ë“œ ì°¸ê³ 

```js
<FlatList
    data={data?.seeRooms} // dataëŠ” arrayí˜•ì‹ì´ì–´ì•¼ í•˜ê¸°ë•Œë¬¸ì— data.seeRooms ë¥¼ ë„£ìŒ
    keyExtractor={room => "" + room.id}
    renderItem={renderItem}
/>
```



### #18.2 Rooms Screen part 2

- Rooms ìŠ¤íƒ€ì¼ë§

- ìƒëŒ€ username ì•Œì•„ë‚´ê¸° : useMe hook ì‚¬ìš©

```js
const {data : meData} = useMe();
const renderItem = ({ item: room }) => {
        const notMe = room.users.find(
            (user) => user.username !== meData?.me?.username
        )
```

- unreadDot >> ì•ˆì½ì€ ë©”ì„¸ì§€ê°€ ìˆì„ë•Œë§Œ

- ìƒˆë¡œê³ ì¹¨, ìŠ¤í¬ë¡¤ >> ì•Œì•„ì„œ í•´ë³´ê¸°



### #18.3 Room Screen part 1

- Roomsë¥¼ ìŠ¤í¬ë¦°ì—ì„œ ë¶„ë¦¬ : ì»´í¬ë„ŒíŠ¸ë¡œ ë§Œë“¤ê¸°(components/rooms/RoomItem.js)

```js
// Rooms.js
const renderItem = ({ item: room }) => (
        <RoomItem {...room} />
    );
```

- rooms -> room navigation

```js
const goToRoom = () => navigation.navigate("Room", {
        id,
        talkingTo,
    });
```

- Room.js ì‘ì„± (seeRoom ì¿¼ë¦¬)



### #18.4 Room Screen part 2

- room screen layout

- FlatList inverted : ê°€ì¥ ìµœê·¼ì˜ ë©”ì„¸ì§€ê°€ ê°€ì¥ ë°‘ìœ¼ë¡œ ì™€ì•¼í•¨

```js
<FlatList
                inverted
            />
```

- (ë©”ì„¸ì§€ ì‘ì„±) input
  - í‚¤ë³´ë“œê°€ ì˜¬ë¼ê°”ì„ ë•Œ ë‹¤ ìœ„ë¡œ ê°™ì´ ì˜¬ë¦¬ê¸° : ì „ë¶€ keyboard avoiding view ì•ˆì— ë„£ê¸°

```js
<KeyboardAvoidingView style={{ flex: 1, }} behavior="padding" keyboardVerticalOffset={160}>
```

- `behavior="height"` : ë“¤ë ¤ì˜¬ë¼ê°„ ë§Œí¼ ë¹ˆê³µê°„ë¨ (í•˜ì–€ìƒ‰ ë°°ê²½)



### #18.5 Room Screen part 3

- ë§í’ì„  ìŠ¤íƒ€ì¼ë§ 
- border-radius ì•ˆë¨¹ìœ¼ë©´ overflow : hidden ì¶”ê°€ (ìì‹íƒœê·¸ê°€ ë¶€ëª¨íƒœê·¸ ë°–ìœ¼ë¡œ ì‚ì ¸ë‚˜ì˜¤ëŠ” ì˜¤ë¥˜)



- ë“¤ì–´ì˜¤ëŠ” ë©”ì„¸ì§€ëŠ” ì™¼ìª½ì—, ë‚˜ê°€ëŠ” ë©”ì„¸ì§€ëŠ” ì˜¤ë¥¸ìª½ì—

  - `flex-direction : row-reverse` 
  - êµ¬ë³„í•˜ê¸° : messageContainerì— prop ì£¼ê¸°

  ```js
  <MessageContainer outgoing={message.user.username !== route?.params?.talkingTo?.username} >
  ```

  ```js
  const MessageContainer = styled.View`
      flex-direction: ${props => props.outgoing ? "row-reverse" : "row"};
  `;
  ```



- mutation ì‘ì„±: sendMessage
