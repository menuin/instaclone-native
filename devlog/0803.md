# ðŸ‚ DEVLOG 8/3

### #17.2 Select Photo part 1

- UploadNavì˜ select í—¤ë” ë‹¤ë“¬ê¸° (ì½”ë“œ ì°¸ê³ )

- selectPhoto ì»´í¬ë„ŒíŠ¸ ìˆ˜ì •
  1. ìœ ì €ê°€ ê³ ë¥¸ ì‚¬ì§„ì„ ìƒë‹¨ì— ë„ì›€
  2. ê°¤ëŸ¬ë¦¬ì— ìžˆëŠ” ëª¨ë“  ì‚¬ì§„ë“¤ì„ í•˜ë‹¨ì— ë‚˜ì—´



### #17.3 Select Photo part 2

- ê°¤ëŸ¬ë¦¬ ì‚¬ì§„ ê°€ì ¸ì˜¤ê¸°

- expo api ì‚¬ìš© 

  expo - MediaLibrary

  https://docs.expo.dev/versions/latest/sdk/media-library/




1. ê°¤ëŸ¬ë¦¬ ì ‘ê·¼ ê¶Œí•œ ìš”ì²­í•˜ê¸°
   - getPermissionsAsync, requestPermissionsAsync

```js
// SelectPhoto.js
    const [ok, setOk] = useState(false);

    const getPermissions = async () => {
        const { accessPrivileges, canAskAgain } = await MediaLibrary.getPermissionsAsync();
        if (accessPrivileges === "none" && canAskAgain) {  // ê¶Œí•œì„ ìš”ì²­í•˜ì§€ ì•Šì•„ì„œ accessê¶Œí•œì´ ì—†ëŠ” ê²½ìš°
            const permissions = await MediaLibrary.requestPermissionsAsync(); // ê¶Œí•œ ìš”ì²­
            if (accessPrivileges !== "none"){
                setOk(true);
            }
        } else if (accessPrivileges !== "none"){
            setOk(true);
        }
    }
    useEffect(() => {
        getPermissions();
    }, []) // í•œë²ˆë§Œ ì‹¤í–‰
```



2. ê°¤ëŸ¬ë¦¬ì—ì„œ ì‚¬ì§„ ê°€ì ¸ì˜¤ê¸°
   - getAssetsAsync

```js
const [photos, setPhotos] = useState([]); // array of photos (default : empty array)

const getPhotos = async () => {
    if (ok) {
        const {assets:photos} = await MediaLibrary.getAssetsAsync();  // array of photos
        setPhotos(photos)
    }
}

useEffect(() => {
    getPermissions();
    getPhotos();
}, [])
```

